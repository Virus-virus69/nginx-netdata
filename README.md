# nginx-netdata
## Введение
В данном проекте были изучены и настроены инструменты Netdata и Nginx. Netdata используется для мониторинга системы, а Nginx - для проксирования и защиты веб-приложений.

## Настройка Netdata
Netdata - это инструмент для мониторинга системы, который позволяет отслеживать различные параметры, такие как использование процессора, памяти, сети и диска.

1. Установка Netdata: 
* Скачайте последнюю версию Netdata с официального сайта.
* Распакуйте архив в удобное место.
* Запустите скрипт установки с правами суперпользователя.
* После установки перезагрузите систему.
## Настройка Nginx
Nginx - это веб-сервер, который используется для проксирования и защиты веб-приложений.

1. Установка Nginx:
* Установите Nginx из репозитория вашего дистрибутива Linux.
* Запустите Nginx и проверьте его работу.
2. Настройка Nginx:
* Создайте файл конфигурации Nginx в ```/etc/nginx/sites-available/netdata01.conf```.
* Добавьте необходимые параметры проксирования и защиты в файл конфигурации.
* Создайте символьную ссылку на файл конфигурации в ```/etc/nginx/sites-enabled/```.
* Перезапустите Nginx для применения изменений.
## Настройка аутентификации при помощи Nginx
Для защиты веб-приложений можно использовать аутентификацию при помощи Nginx.

1. Создайте файл аутентификации ```/etc/nginx/passwords```.
2. Добавьте необходимые параметры аутентификации в файл.
3. Отредактируйте конфигурация ```/etc/nginx/sites-available/netdata01.conf```.
4. Перезапустите Nginx для применения изменений.
## Настройка брандмауэра Linux
Для защиты системы можно использовать брандмауэр Linux.

1. Установите и настройте брандмауэр Linux.
2. Создайте правила для разрешенных и запрещенных соединений.
3. Перезапустите брандмауэр для применения изменений.
## Настройка домена
Для доступа к веб-приложению можно использовать доменное имя.

1. Зарегистрируйте доменное имя.
2. Настройте DNS-записи для домена.
3. Настройте перенаправление домена на IP-адрес сервера.

## Результаты
В данном разделе будут проанализированы промежуточные результаты, которые были получены в процессе выполнения задания.
1. Для установки Netdata необходимо выполнить следующую команду в терминале: ```wget -O /tmp/netdata-kickstart.sh https://get.netdata.cloud/kickstart.sh && sh /tmp/netdata-kickstart.sh --stable-channel --disable-telemetry```  
В результате будет установлена служба ```netdata.service``` и получен рабочий экземпляр:
![image](https://github.com/Virus-virus69/nginx-netdata/assets/145215499/5ecbbe21-f40a-472a-8884-19f35ba86a2b)
2. Для установки Nginx необходимо выполнить команду: ```sudo apt install nginx```
В результате будет установлена служба ```nginx.service```:  
![image](https://github.com/Virus-virus69/nginx-netdata/assets/145215499/00daf21e-22cb-42e4-89eb-82ecfb89e305)
3. Для использования базовой аутентификации Nginx необходимо создать файл аутентификации ```passwords``` с помощью команды:
```printf "yourusername:$(openssl passwd -apr1)" > /etc/nginx/passwords```  
Также в файле ```/etc/nginx/sites-available/netdata01.conf``` необходимо добавить следующие строки в блок ```server``` для аутентификации:
```
auth_basic "Protected"; 
auth_basic_user_file passwords;
```
4. Для конфигурации межсетевого экрана Netfilter необходимо выполнить команду:
```sudo ufw allow "Nginx HTTP"```  
В результате будет получен доступ к службе:  
![image](https://github.com/Virus-virus69/nginx-netdata/assets/145215499/33ed2c49-c308-4c82-ad90-467a3743f18a)
5. В связи с отсутствием общедоступного домена, можно использовать файл ```/etc/hosts``` для указания перехода по ссылке на localhost: ```127.0.0.1 netdata01```


После выполнения всех шагов, перейдя по ссылке ```http://netdata01``` можно увидеть следующую картину: 
![image](https://github.com/Virus-virus69/nginx-netdata/assets/145215499/ed44d3ed-fc0a-437e-88c6-75c9a9750676)  
При успешном вводе аутентификационных данных будет открыт доступ к окну мониторинга:
![image](https://github.com/Virus-virus69/nginx-netdata/assets/145215499/c103fa34-3765-41b6-b9e4-09e65e842390)


## Заключение
В данном проекте были изучены и настроены инструменты Netdata и Nginx для мониторинга системы и защиты веб-приложений. Также была добавлена простая аутентификация при помощи Nginx, настроен брандмауэр Linux и настроен домен для доступа к веб-приложению.
